<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <meta name="viewport" content="width=device-width">
    <title>MJP Editors</title>
    <link rel="shortcut icon" type="image/png" href="images/favicon.png"/>

    <link rel="stylesheet" href="resources/default.css" />
    <link rel="stylesheet" href="style.css" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>

    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.1.0/lodash.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>

    <script src="timeseries.js"></script>

</head>

<body>

    <script>
    hljs.initHighlightingOnLoad();
    </script>

    <div class="container">
        <div class="header">
            <div>MJP Editors</div>
        </div>
        <div class="text">
            <p>A temporal interface for MJP API Queries... sort of.</p>
        </div>
        <div class="timeseries"></div>
        
        <div class="text contact">
            <p>Borrowed heavily from the <a href="https://github.com/mlvl/timeseries">MLVL Timeseries chart</a>.</p>
        </div>
    </div>

    <script>
    window.onload = function() {
    
		d3.csv("metadata.csv", function(unparsedData) {
 
  			data = unparsedData.map(function(d) {
  				//each d is one line of the csv file represented as a json object
  			    issue_pers_name = d.issue_pers_name
  			    issue_year = +d.issue_year // convert "Year" column to number
  			    /* skipping months since they're not formatted in a standard way */
    			return {"issue_pers_name": issue_pers_name, "issue_year": issue_year} ;
  			});
  			console.log("data", data)    
  			
    		timeseries('timeseries', data, true); 
  			
		});
	

    }
    </script>


</body>

</html>
